{%- apply inline_css(source('@styles/mail/comment.css')) -%}
<div class="comment__comment-thread {% if comment.state == 'resolved' %}comment__state_resolved{% endif %}">
    <div class="comment__comment">
        {#- detached comments -#}
        {%- if detached is defined and detached -%}
            <div class="comment__detached-comment">
                <i class="bi bi-link"></i>
                {{- 'discussion.points.to.modified.code'|trans({line: comment.lineReference.lineAfter}) -}}
            </div>
        {%- endif -%}

        <div class="comment__author_and_time">
            <span class="comment__author">{{ comment.user.name }}</span>
            <span class="comment__datetime" title="{{ comment.updateTimestamp|date }}">
                {{- 'on'|trans }} {{ comment.updateTimestamp|date('M j, H:i') -}}
            </span>
        </div>

        <div class="comment__message">
            {{- comment.message|markdown -}}
        </div>
    </div>
</div>
{%- endapply -%}
