<div class="diff-file__comment_form" data-controller="comment">
    {{- form_start(form) -}}
    {{- form_widget(form.message, {attr: {class: 'diff-file__comment_textarea', 'data-comment-target': 'textarea'}}) -}}

    <div class="position-relative diff-file__comment-mention">
        <ul class="dropdown-menu" data-comment-target="mentionSuggestions"></ul>
    </div>

    <div class="comment__markdown" data-comment-target="markdownPreview" class="mb-2">
        {{ form.message.vars.value|markdown }}
    </div>

    <div class="clearfix">
        {{- form_widget(form.save, {attr: {title: 'comment.save.quick.key', 'data-controller': 'button'}}) -}}
        <button type="button"
                class="ms-2 btn btn-outline-secondary"
                data-controller="button"
                data-action="click->comment#cancelComment">{{ 'cancel'|trans }}</button>
        <span class="float-end text-secondary">
            {{ 'comment.markdown.examples'|trans }}
        </span>
    </div>
    {{- form_end(form) -}}
</div>
