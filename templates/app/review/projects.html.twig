{% extends 'app/app.base.html.twig' %}

{%- macro projectColumns(repositories) -%}
    {%- if repositories|length > 0 -%}
        {% set columnSize = repositories|length / 4 %}
        {% set batches    = repositories|batch(columnSize) %}

        <div class="grid-display mb-5">
            {%- for batch in batches -%}
                <div class="list-group">
                    {%- for repository in batch -%}
                        <a class="list-group-item list-group-item-action"
                           href="{{ path('DR\\Review\\Controller\\App\\Reviews\\ReviewsController', {id: repository.id}) }}">
                            {{- repository.displayName -}}
                        </a>
                    {%- endfor -%}
                </div>
            {%- endfor -%}
        </div>
    {%- endif -%}

{%- endmacro -%}
{%- from _self import projectColumns -%}


{% block page_content %}
    <h1 class="mt-2">{{ 'projects'|trans }}</h1>

    {{ projectColumns(projectsModel.favoriteRepositories) }}

    {{ projectColumns(projectsModel.repositories) }}

{% endblock %}
