.comment__comment-thread {
    background: var(--comment-background-color);
    border-bottom: 1px solid var(--comment-border-color);
    font-size: 0.9rem;

    .comment__quick-reactions {
        opacity: 0;
        transition: opacity 0.2s 3s;
    }

    &:hover .comment__quick-reactions {
        opacity: 1;
        transition: opacity 0.2s;
    }
}

.comment__detached-comment {
    color: var(--comment-secondary-color);
    font-size: 0.8rem;
    padding-bottom: 2px;
}

.comment__comment {
    max-width: calc(100vw - var(--review-sidebar-width) - var(--review-sidebar-gap) - 35px);
}

.diff-side-by-side .comment__comment {
    max-width: calc((100vw - var(--review-sidebar-width) - var(--review-sidebar-gap)) / 2 - 35px);
}

.comment__comment,
.comment__reply {
    overflow-wrap: break-word;
    padding: 5px 5px 5px 20px;
}

.comment__reply {
    max-width: calc(100vw - var(--review-sidebar-width) - var(--review-sidebar-gap) - 75px);
    padding-left: 40px;

    &.comment__reply--no-indent {
        padding-left: 5px;
    }
}

.diff-side-by-side .comment__reply {
    max-width: calc((100vw - var(--review-sidebar-width) - var(--review-sidebar-gap)) / 2 - 35px);
}

.comment__edit-reply {
    padding-left: 32px;
}

// Comment deep linking styles
.comment-highlighted {
    background: var(--bs-warning-bg-subtle) !important;
    border-left: 4px solid var(--bs-warning) !important;
    transition: background-color 0.3s ease, border-left 0.3s ease;

    &.comment__state_resolved {
        background: var(--bs-success-bg-subtle) !important;
        border-left: 4px solid var(--bs-success) !important;
    }
}

.comment__id {
    font-size: 0.75rem;

    a {
        opacity: 0.6;
        transition: opacity 0.2s ease;

        &:hover {
            opacity: 1;
        }
    }
}

.comment__comment .comment__author,
.comment__reply .comment__author {
    font-size: 0.8rem;
    font-weight: bold;
}

.comment__comment .comment__datetime,
.comment__reply .comment__datetime {
    color: var(--comment-secondary-color);
    font-size: 0.8rem;
}

.comment__comment-thread.comment__state_resolved,
.comment__comment-thread.comment__state_resolved .comment__author,
.comment__comment-thread.comment__state_resolved .comment__datetime,
.comment__comment-thread.comment__state_resolved .comment__edit *,
.comment__comment-thread.comment__state_resolved .comment__state *,
.comment__comment-thread.comment__state_resolved .comment__message *,
.comment__comment-thread.comment__state_resolved .comment__toolbar * {
    /* stylelint-disable */
    color: var(--comment-secondary-color) !important;
    /* stylelint-enable */
}

.comment__comment-thread.comment__state_resolved .comment__message img {
    filter: grayscale(1);
}

.comment__comment .comment__edit,
.comment__reply .comment__edit {
    display: none;
}

.comment__comment:hover .comment__edit,
.comment__reply:hover .comment__edit {
    display: inline-block;
}

.comment__toolbar {
    padding-bottom: 5px;
    padding-left: 20px;
}

.comment__action-button {
    display: inline-block;
    height: 20px;
    line-height: 20px;
    text-align: center;
    width: 20px;
}

.comment__reaction-button {
    text-decoration: none;

    &[disabled] {
        cursor: default;
        opacity: 0.25;
    }
}

// Toast notification styles for clipboard feedback
.comment-clipboard-notification {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 12px 20px;
    border-radius: 4px;
    font-weight: 500;
    font-size: 14px;
    z-index: 9999;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    transform: translateX(100%);
    transition: transform 0.3s ease-in-out;

    &--success {
        background-color: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
    }

    &--error {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
    }

    &--show {
        transform: translateX(0);
    }

    &--hide {
        transform: translateX(100%);
    }
}

// Clipboard link feedback styles
.comment__deeplink {
    &--success {
        color: #28a745 !important; // Success green
    }

    &--error {
        color: #dc3545 !important; // Error red
    }
}

// Hidden textarea for clipboard fallback
.comment-clipboard-fallback-textarea {
    position: fixed !important;
    left: -999999px !important;
    top: -999999px !important;
    opacity: 0;
    pointer-events: none;
}
