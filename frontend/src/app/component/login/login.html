<div class="login-registration-container">
  <h2 class="mb-4">{{ 'sign.in' | translate }}</h2>

  @if (environment.appAuthPassword) {
    <form [formGroup]="loginForm" (ngSubmit)="handleSubmit()">
      <div class="mb-3">
        <app-form-label [form]="loginViewModel.form.username"/>
        <app-form-widget [form]="loginViewModel.form.username" formControlName="username"/>
      </div>
      <div class="mb-3">
        <app-form-label [form]="loginViewModel.form.password"/>
        <app-form-widget [form]="loginViewModel.form.password" formControlName="password"/>
      </div>
      <div class="invalid-feedback mb-3" [class.d-block]="errorMessage !== null">{{ errorMessage }}</div>
      <div class="mb-3">
        <app-form-widget [form]="loginViewModel.form.loginBtn" [disabled]="loginForm.valid === false" [loading]="processing"/>
        <a class="ms-2" href="/register">{{ 'create.new.account' | translate }}</a>
      </div>
    </form>
  }
  @if (environment.appAuthAzureAd) {
    <a href="javascript:" class="btn btn-outline-primary" (click)="loginWithAzureAd()">
      <img src="/images/azure-ad-logo.svg" width="12" height="12" alt="microsoft" class="single-sign-on-icon">
      <span>{{ 'log.in.with.active.directory' | translate }}</span>
    </a>
  }
</div>
